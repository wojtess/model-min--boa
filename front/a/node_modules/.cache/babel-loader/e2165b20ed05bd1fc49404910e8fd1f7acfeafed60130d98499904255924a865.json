{"ast":null,"code":"var _jsxFileName = \"/home/jedrek/Powertrain/miniboat-website/src/JoystickX.js\",\n  _s = $RefreshSig$();\nimport { Joystick } from \"react-joystick-component\";\nimport { JoystickShape } from \"react-joystick-component\";\nimport { DataContext } from \"./DataContext\";\nimport useOrientation from \"./useOrientation\";\nimport React, { useContext, useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst JoystickX = () => {\n  _s();\n  const {\n    dataToSend,\n    setDataToSend\n  } = useContext(DataContext);\n  const [joySize, setJoySize] = useState(window.innerHeight * 0.5);\n\n  //RESIZING JOYSTICK\n  useEffect(() => {\n    const handleFullscreenChange = () => {\n      if (!document.fullscreenElement) {\n        console.log(\"Exited fullscreen\");\n        // Call your function here\n        setJoySize(window.innerHeight * 0.6);\n      }\n    };\n    document.addEventListener(\"fullscreenchange\", handleFullscreenChange);\n    return () => {\n      document.removeEventListener(\"fullscreenchange\", handleFullscreenChange);\n    };\n  }, []);\n  const updateMessage = x => {\n    setDataToSend(prev => ({\n      ...prev,\n      joyPos: x\n    }));\n  };\n  const onMove = stick => {\n    updateMessage(stick.x);\n  };\n  const onStop = stick => {\n    updateMessage(0);\n  };\n  if (useOrientation()) {\n    return /*#__PURE__*/_jsxDEV(Joystick, {\n      controlPlaneShape: JoystickShape.AxisX,\n      size: joySize,\n      move: onMove,\n      stop: onStop\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(Joystick, {\n      controlPlaneShape: JoystickShape.AxisX,\n      size: joySize * 0.7,\n      move: onMove,\n      stop: onStop\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 18\n    }, this);\n  }\n};\n_s(JoystickX, \"SQVm3XbL2P87N0LHUF8TXVQL/Fk=\", false, function () {\n  return [useOrientation];\n});\n_c = JoystickX;\nexport default JoystickX;\nvar _c;\n$RefreshReg$(_c, \"JoystickX\");","map":{"version":3,"names":["Joystick","JoystickShape","DataContext","useOrientation","React","useContext","useState","useEffect","jsxDEV","_jsxDEV","JoystickX","_s","dataToSend","setDataToSend","joySize","setJoySize","window","innerHeight","handleFullscreenChange","document","fullscreenElement","console","log","addEventListener","removeEventListener","updateMessage","x","prev","joyPos","onMove","stick","onStop","controlPlaneShape","AxisX","size","move","stop","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/jedrek/Powertrain/miniboat-website/src/JoystickX.js"],"sourcesContent":["import { Joystick } from \"react-joystick-component\";\nimport { JoystickShape } from \"react-joystick-component\";\nimport { DataContext } from \"./DataContext\";\nimport useOrientation from \"./useOrientation\";\nimport React, { useContext, useState, useEffect } from 'react';\n\nconst JoystickX = () => {\n    const { dataToSend, setDataToSend } = useContext(DataContext);\n\n    const [joySize, setJoySize] = useState(window.innerHeight * 0.5);\n\n\n    //RESIZING JOYSTICK\n    useEffect(() => {\n      const handleFullscreenChange = () => {\n        if (!document.fullscreenElement) {\n          console.log(\"Exited fullscreen\");\n          // Call your function here\n          setJoySize(window.innerHeight * 0.6);\n        }\n      };\n  \n      document.addEventListener(\"fullscreenchange\", handleFullscreenChange);\n  \n      return () => {\n        document.removeEventListener(\"fullscreenchange\", handleFullscreenChange);\n      };\n    }, []);\n\n    const updateMessage = (x) => {\n        setDataToSend((prev) => ({\n          ...prev,\n          joyPos: x\n        }));\n      };\n\n    const onMove = (stick) => {\n        updateMessage(stick.x);\n    };\n\n    const onStop = (stick) => {\n        updateMessage(0);\n    };\n\n    if(useOrientation()){\n    return (<Joystick controlPlaneShape={JoystickShape.AxisX} size={joySize} move={onMove} stop={onStop}></Joystick>);}\n    else{return (<Joystick controlPlaneShape={JoystickShape.AxisX} size={joySize*0.7} move={onMove} stop={onStop}></Joystick>);}\n}\nexport default JoystickX;"],"mappings":";;AAAA,SAASA,QAAQ,QAAQ,0BAA0B;AACnD,SAASC,aAAa,QAAQ,0BAA0B;AACxD,SAASC,WAAW,QAAQ,eAAe;AAC3C,OAAOC,cAAc,MAAM,kBAAkB;AAC7C,OAAOC,KAAK,IAAIC,UAAU,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE/D,MAAMC,SAAS,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACpB,MAAM;IAAEC,UAAU;IAAEC;EAAc,CAAC,GAAGR,UAAU,CAACH,WAAW,CAAC;EAE7D,MAAM,CAACY,OAAO,EAAEC,UAAU,CAAC,GAAGT,QAAQ,CAACU,MAAM,CAACC,WAAW,GAAG,GAAG,CAAC;;EAGhE;EACAV,SAAS,CAAC,MAAM;IACd,MAAMW,sBAAsB,GAAGA,CAAA,KAAM;MACnC,IAAI,CAACC,QAAQ,CAACC,iBAAiB,EAAE;QAC/BC,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAC;QAChC;QACAP,UAAU,CAACC,MAAM,CAACC,WAAW,GAAG,GAAG,CAAC;MACtC;IACF,CAAC;IAEDE,QAAQ,CAACI,gBAAgB,CAAC,kBAAkB,EAAEL,sBAAsB,CAAC;IAErE,OAAO,MAAM;MACXC,QAAQ,CAACK,mBAAmB,CAAC,kBAAkB,EAAEN,sBAAsB,CAAC;IAC1E,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMO,aAAa,GAAIC,CAAC,IAAK;IACzBb,aAAa,CAAEc,IAAI,KAAM;MACvB,GAAGA,IAAI;MACPC,MAAM,EAAEF;IACV,CAAC,CAAC,CAAC;EACL,CAAC;EAEH,MAAMG,MAAM,GAAIC,KAAK,IAAK;IACtBL,aAAa,CAACK,KAAK,CAACJ,CAAC,CAAC;EAC1B,CAAC;EAED,MAAMK,MAAM,GAAID,KAAK,IAAK;IACtBL,aAAa,CAAC,CAAC,CAAC;EACpB,CAAC;EAED,IAAGtB,cAAc,CAAC,CAAC,EAAC;IACpB,oBAAQM,OAAA,CAACT,QAAQ;MAACgC,iBAAiB,EAAE/B,aAAa,CAACgC,KAAM;MAACC,IAAI,EAAEpB,OAAQ;MAACqB,IAAI,EAAEN,MAAO;MAACO,IAAI,EAAEL;IAAO;MAAAM,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAW,CAAC;EAAE,CAAC,MAC/G;IAAC,oBAAQ/B,OAAA,CAACT,QAAQ;MAACgC,iBAAiB,EAAE/B,aAAa,CAACgC,KAAM;MAACC,IAAI,EAAEpB,OAAO,GAAC,GAAI;MAACqB,IAAI,EAAEN,MAAO;MAACO,IAAI,EAAEL;IAAO;MAAAM,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAW,CAAC;EAAE;AAC/H,CAAC;AAAA7B,EAAA,CAzCKD,SAAS;EAAA,QAsCRP,cAAc;AAAA;AAAAsC,EAAA,GAtCf/B,SAAS;AA0Cf,eAAeA,SAAS;AAAC,IAAA+B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}