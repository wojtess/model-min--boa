{"ast":null,"code":"import{Joystick}from\"react-joystick-component\";import{JoystickShape}from\"react-joystick-component\";import{DataContext}from\"./DataContext\";import useOrientation from\"./useOrientation\";import React,{useContext,useState,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";const JoystickX=()=>{const{dataToSend,setDataToSend}=useContext(DataContext);const[joySize,setJoySize]=useState(window.innerHeight*0.5);//RESIZING JOYSTICK\nuseEffect(()=>{const handleFullscreenChange=()=>{if(!document.fullscreenElement){console.log(\"Exited fullscreen\");// Call your function here\nsetJoySize(window.innerHeight*0.6);}};document.addEventListener(\"fullscreenchange\",handleFullscreenChange);return()=>{document.removeEventListener(\"fullscreenchange\",handleFullscreenChange);};},[]);const updateMessage=x=>{setDataToSend(prev=>({...prev,joyPos:x}));};const onMove=stick=>{updateMessage(stick.x);};const onStop=stick=>{updateMessage(0);};if(useOrientation()){return/*#__PURE__*/_jsx(Joystick,{controlPlaneShape:JoystickShape.AxisX,size:joySize,move:onMove,stop:onStop});}else{return/*#__PURE__*/_jsx(Joystick,{controlPlaneShape:JoystickShape.AxisX,size:joySize*0.7,move:onMove,stop:onStop});}};export default JoystickX;","map":{"version":3,"names":["Joystick","JoystickShape","DataContext","useOrientation","React","useContext","useState","useEffect","jsx","_jsx","JoystickX","dataToSend","setDataToSend","joySize","setJoySize","window","innerHeight","handleFullscreenChange","document","fullscreenElement","console","log","addEventListener","removeEventListener","updateMessage","x","prev","joyPos","onMove","stick","onStop","controlPlaneShape","AxisX","size","move","stop"],"sources":["/home/jedrek/Powertrain/miniboat-website/src/JoystickX.js"],"sourcesContent":["import { Joystick } from \"react-joystick-component\";\nimport { JoystickShape } from \"react-joystick-component\";\nimport { DataContext } from \"./DataContext\";\nimport useOrientation from \"./useOrientation\";\nimport React, { useContext, useState, useEffect } from 'react';\n\nconst JoystickX = () => {\n    const { dataToSend, setDataToSend } = useContext(DataContext);\n\n    const [joySize, setJoySize] = useState(window.innerHeight * 0.5);\n\n\n    //RESIZING JOYSTICK\n    useEffect(() => {\n      const handleFullscreenChange = () => {\n        if (!document.fullscreenElement) {\n          console.log(\"Exited fullscreen\");\n          // Call your function here\n          setJoySize(window.innerHeight * 0.6);\n        }\n      };\n  \n      document.addEventListener(\"fullscreenchange\", handleFullscreenChange);\n  \n      return () => {\n        document.removeEventListener(\"fullscreenchange\", handleFullscreenChange);\n      };\n    }, []);\n\n    const updateMessage = (x) => {\n        setDataToSend((prev) => ({\n          ...prev,\n          joyPos: x\n        }));\n      };\n\n    const onMove = (stick) => {\n        updateMessage(stick.x);\n    };\n\n    const onStop = (stick) => {\n        updateMessage(0);\n    };\n\n    if(useOrientation()){\n    return (<Joystick controlPlaneShape={JoystickShape.AxisX} size={joySize} move={onMove} stop={onStop}></Joystick>);}\n    else{return (<Joystick controlPlaneShape={JoystickShape.AxisX} size={joySize*0.7} move={onMove} stop={onStop}></Joystick>);}\n}\nexport default JoystickX;"],"mappings":"AAAA,OAASA,QAAQ,KAAQ,0BAA0B,CACnD,OAASC,aAAa,KAAQ,0BAA0B,CACxD,OAASC,WAAW,KAAQ,eAAe,CAC3C,MAAO,CAAAC,cAAc,KAAM,kBAAkB,CAC7C,MAAO,CAAAC,KAAK,EAAIC,UAAU,CAAEC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE/D,KAAM,CAAAC,SAAS,CAAGA,CAAA,GAAM,CACpB,KAAM,CAAEC,UAAU,CAAEC,aAAc,CAAC,CAAGP,UAAU,CAACH,WAAW,CAAC,CAE7D,KAAM,CAACW,OAAO,CAAEC,UAAU,CAAC,CAAGR,QAAQ,CAACS,MAAM,CAACC,WAAW,CAAG,GAAG,CAAC,CAGhE;AACAT,SAAS,CAAC,IAAM,CACd,KAAM,CAAAU,sBAAsB,CAAGA,CAAA,GAAM,CACnC,GAAI,CAACC,QAAQ,CAACC,iBAAiB,CAAE,CAC/BC,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAC,CAChC;AACAP,UAAU,CAACC,MAAM,CAACC,WAAW,CAAG,GAAG,CAAC,CACtC,CACF,CAAC,CAEDE,QAAQ,CAACI,gBAAgB,CAAC,kBAAkB,CAAEL,sBAAsB,CAAC,CAErE,MAAO,IAAM,CACXC,QAAQ,CAACK,mBAAmB,CAAC,kBAAkB,CAAEN,sBAAsB,CAAC,CAC1E,CAAC,CACH,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAO,aAAa,CAAIC,CAAC,EAAK,CACzBb,aAAa,CAAEc,IAAI,GAAM,CACvB,GAAGA,IAAI,CACPC,MAAM,CAAEF,CACV,CAAC,CAAC,CAAC,CACL,CAAC,CAEH,KAAM,CAAAG,MAAM,CAAIC,KAAK,EAAK,CACtBL,aAAa,CAACK,KAAK,CAACJ,CAAC,CAAC,CAC1B,CAAC,CAED,KAAM,CAAAK,MAAM,CAAID,KAAK,EAAK,CACtBL,aAAa,CAAC,CAAC,CAAC,CACpB,CAAC,CAED,GAAGrB,cAAc,CAAC,CAAC,CAAC,CACpB,mBAAQM,IAAA,CAACT,QAAQ,EAAC+B,iBAAiB,CAAE9B,aAAa,CAAC+B,KAAM,CAACC,IAAI,CAAEpB,OAAQ,CAACqB,IAAI,CAAEN,MAAO,CAACO,IAAI,CAAEL,MAAO,CAAW,CAAC,CAAE,CAAC,IAC/G,CAAC,mBAAQrB,IAAA,CAACT,QAAQ,EAAC+B,iBAAiB,CAAE9B,aAAa,CAAC+B,KAAM,CAACC,IAAI,CAAEpB,OAAO,CAAC,GAAI,CAACqB,IAAI,CAAEN,MAAO,CAACO,IAAI,CAAEL,MAAO,CAAW,CAAC,CAAE,CAC/H,CAAC,CACD,cAAe,CAAApB,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}